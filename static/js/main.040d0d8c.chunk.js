(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),o=a(2),n=a.n(o),i=(a(13),a(3)),h=a(4),l=a(6),c=a(5),u=a(7),m=(a(14),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={board:null,score:0,gameOver:!1,message:null},a}return Object(u.a)(t,e),Object(h.a)(t,[{key:"createBoard",value:function(){for(var e=[],t=0;t<4;t++){for(var a=[],r=0;r<4;r++)a.push(0);e.push(a)}e=this.setRandom(this.setRandom(e)),this.setState({board:e,score:0,gameOver:!1,message:null})}},{key:"setRandom",value:function(e){var t=this.getEmptyGrids(e),a=t[Math.floor(Math.random()*t.length)],r=this.getStartingNum();return e[a[0]][a[1]]=r,e}},{key:"getEmptyGrids",value:function(e){for(var t=[],a=0;a<e.length;a++)for(var r=0;r<e[a].length;r++)0===e[a][r]&&t.push([a,r]);return t}},{key:"getStartingNum",value:function(){var e=[2,4];return e[Math.floor(Math.random()*e.length)]}},{key:"isChangeinBoard",value:function(e,t){return JSON.stringify(t)!==JSON.stringify(e)}},{key:"checkForGameWon",value:function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++)2048===e[t][a]&&this.setState({gameOver:!0,message:"You Won!"})}},{key:"strike",value:function(e){if(!this.state.gameOver)if("left"===e){var t=this.strikeLeft(this.state.board);if(this.isChangeinBoard(this.state.board,t.board)){var a=this.setRandom(t.board);this.isGameOver(a)?this.setState({board:a,gameOver:!0,message:"Game over!"}):this.checkForGameWon(a)?this.setState({gameOver:!0,message:"You Won!"}):this.setState({board:a,score:this.state.score+=t.score})}}else if("right"===e){var r=this.strikeRight(this.state.board);if(this.isChangeinBoard(this.state.board,r.board)){var s=this.setRandom(r.board);this.isGameOver(s)?this.setState({board:s,gameOver:!0,message:"Game over!"}):this.checkForGameWon(s)?this.setState({gameOver:!0,message:"You Won!"}):this.setState({board:s,score:this.state.score+=r.score})}}else if("up"===e){var o=this.strikeUp(this.state.board);if(this.isChangeinBoard(this.state.board,o.board)){var n=this.setRandom(o.board);this.isGameOver(n)?this.setState({board:n,gameOver:!0,message:"Game over!"}):this.checkForGameWon(n)?this.setState({gameOver:!0,message:"You Won!"}):this.setState({board:n,score:this.state.score+=o.score})}}else if("down"===e){var i=this.strikeDown(this.state.board);if(this.isChangeinBoard(this.state.board,i.board)){var h=this.setRandom(i.board);this.isGameOver(h)?this.setState({board:h,gameOver:!0,message:"Game over!"}):this.checkForGameWon(h)?this.setState({gameOver:!0,message:"You Won!"}):this.setState({board:h,score:this.state.score+=i.score})}}else this.setState({message:"Sorry :( Game Over."})}},{key:"strikeLeft",value:function(e){for(var t=[],a=0,r=0;r<e.length;r++){for(var s=[],o=e[r].length-1;o>=0;o--){var n=e[r][o];0===n?s.push(n):s.unshift(n)}t.push(s)}for(var i=0;i<t.length;i++)for(var h=0;h<t.length;h++)t[i][h]>0&&t[i][h]===t[i][h+1]?(t[i][h]=2*t[i][h],t[i][h+1]=0,a+=t[i][h]):0===t[i][h]&&t[i][h+1]>0&&(t[i][h]=t[i][h+1],t[i][h+1]=0);return{board:t,score:a}}},{key:"strikeRight",value:function(e){for(var t=[],a=0,r=0;r<e.length;r++){for(var s=[],o=0;o<e[r].length;o++){var n=e[r][o];0===n?s.unshift(n):s.push(n)}t.push(s)}for(var i=0;i<t.length;i++)for(var h=t[i].length-1;h>=0;h--)t[i][h]>0&&t[i][h]===t[i][h-1]?(t[i][h]=2*t[i][h],t[i][h-1]=0,a+=t[i][h]):0===t[i][h]&&t[i][h-1]>0&&(t[i][h]=t[i][h-1],t[i][h-1]=0);return{board:t,score:a}}},{key:"strikeUp",value:function(e){for(var t=this.rotateToRight(e),a=[],r=0,s=0;s<t.length;s++){for(var o=[],n=0;n<t[s].length;n++){var i=t[s][n];0===i?o.unshift(i):o.push(i)}a.push(o)}for(var h=0;h<a.length;h++)for(var l=a[h].length-1;l>=0;l--)a[h][l]>0&&a[h][l]===a[h][l-1]?(a[h][l]=2*a[h][l],a[h][l-1]=0,r+=a[h][l]):0===a[h][l]&&a[h][l-1]>0&&(a[h][l]=a[h][l-1],a[h][l-1]=0);return{board:a=this.rotateToLeft(a),score:r}}},{key:"strikeDown",value:function(e){for(var t=this.rotateToRight(e),a=[],r=0,s=0;s<t.length;s++){for(var o=[],n=t[s].length-1;n>=0;n--){var i=t[s][n];0===i?o.push(i):o.unshift(i)}a.push(o)}for(var h=0;h<a.length;h++)for(var l=0;l<a.length;l++)a[h][l]>0&&a[h][l]===a[h][l+1]?(a[h][l]=2*a[h][l],a[h][l+1]=0,r+=a[h][l]):0===a[h][l]&&a[h][l+1]>0&&(a[h][l]=a[h][l+1],a[h][l+1]=0);return{board:a=this.rotateToLeft(a),score:r}}},{key:"rotateToLeft",value:function(e){for(var t=[],a=e.length-1;a>=0;a--){for(var r=[],s=e.length-1;s>=0;s--)r.unshift(e[s][a]);t.push(r)}return t}},{key:"rotateToRight",value:function(e){for(var t=[],a=0;a<e.length;a++){for(var r=[],s=e.length-1;s>=0;s--)r.push(e[s][a]);t.push(r)}return t}},{key:"isGameOver",value:function(e){return![this.isChangeinBoard(e,this.strikeUp(e).board),this.isChangeinBoard(e,this.strikeRight(e).board),this.isChangeinBoard(e,this.strikeDown(e).board),this.isChangeinBoard(e,this.strikeLeft(e).board)].includes(!0)}},{key:"componentWillMount",value:function(){this.createBoard(),document.querySelector("body").addEventListener("keydown",this.controlArrowKeys.bind(this))}},{key:"controlArrowKeys",value:function(e){37===e.keyCode?this.strike("left"):39===e.keyCode?this.strike("right"):38===e.keyCode?this.strike("up"):40===e.keyCode&&this.strike("down")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"sticky"},"2048 Game! PS: you can't win :p"),s.a.createElement("p",null,s.a.createElement("b",null,"Use the keyboard arrow keys or the buttons to play.")),s.a.createElement("div",{className:"button",onClick:function(){e.createBoard()}},"New Game"),s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"button",onClick:function(){e.strike("left")}},"Left"),"\xa0",s.a.createElement("div",{className:"button",onClick:function(){e.strike("right")}},"Right"),"\xa0",s.a.createElement("div",{className:"button",onClick:function(){e.strike("up")}},"Up"),"\xa0",s.a.createElement("div",{className:"button",onClick:function(){e.strike("down")}},"Down")),s.a.createElement("div",{className:"score"},"Score: ",this.state.score),s.a.createElement("table",null,this.state.board.map((function(e,t){return s.a.createElement(v,{key:t,row:e})}))),s.a.createElement("h1",{className:"msg"}," ",this.state.message))}}]),t}(s.a.Component)),v=function(e){var t=e.row;return s.a.createElement("tr",null,t.map((function(e,t){return s.a.createElement(d,{key:t,cellValue:e})})))},d=function(e){var t=e.cellValue,a=0===t?"":t;return s.a.createElement("td",null,s.a.createElement("div",{className:"cell"},s.a.createElement("div",{className:"number"},a)))},f=m;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.040d0d8c.chunk.js.map